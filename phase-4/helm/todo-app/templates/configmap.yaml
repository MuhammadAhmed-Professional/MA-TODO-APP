apiVersion: v1
kind: ConfigMap
metadata:
  name: todo-config
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "todo-app.labels" . | nindent 4 }}
data:
  # Frontend environment variables
  {{- range $key, $value := .Values.env.frontend }}
  {{ $key }}: {{ $value | quote }}
  {{- end }}

  # Backend environment variables
  {{- range $key, $value := .Values.env.backend }}
  BACKEND_{{ $key }}: {{ $value | quote }}
  {{- end }}

  # Auth server environment variables
  {{- range $key, $value := .Values.env.authServer }}
  AUTH_{{ $key }}: {{ $value | quote }}
  {{- end }}

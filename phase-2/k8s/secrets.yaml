# Kubernetes Secrets Placeholder
#
# IMPORTANT: This file contains placeholder values only.
# DO NOT commit actual secrets to version control!
#
# For production:
# 1. Use external secret management (e.g., Sealed Secrets, Vault, AWS Secrets Manager)
# 2. Or use kubectl create secret commands
# 3. Or use secret-sync tools like External Secrets Operator
#
# Create secrets with kubectl:
# kubectl create secret generic todo-app-secrets \
#   --from-literal=database-url='postgresql://user:pass@host:5432/dbname' \
#   --from-literal=jwt-secret='your-256-bit-secret' \
#   --from-literal=openai-api-key='sk-...' \
#   --from-literal=redis-password='your-redis-password' \
#   -n todo-app
#
apiVersion: v1
kind: Secret
metadata:
  name: todo-app-secrets
  namespace: todo-app
  labels:
    app: todo-app
type: Opaque
# Placeholder values - MUST be replaced before production use
stringData:
  # PostgreSQL Database Connection String
  # Format: postgresql://user:password@host:port/database?sslmode=require
  database-url: "postgresql://todo_user:change_me@postgres:5432/todo_db?sslmode=disable"

  # JWT Secret for token signing
  # Generate with: openssl rand -hex 32
  jwt-secret: "change-me-to-a-secure-256-bit-random-secret-key"

  # OpenAI API Key (optional - for AI chat features)
  # Get from: https://platform.openai.com/api-keys
  openai-api-key: "sk-your-openai-api-key-here"

  # Redis Password (optional - for Dapr state store)
  redis-password: "change-me-to-a-secure-redis-password"

  # Better Auth Secret (frontend session management)
  better-auth-secret: "change-me-to-a-different-secure-secret"

---
# Alternative: Use Sealed Secrets for production
# Install: kubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/controller.yaml
# Create: kubectl create secret generic todo-app-secrets --dry-run=client --from-literal=jwt-secret=xxx -o yaml | kubeseal -o sealed-secrets.yaml
# Apply: kubectl apply -f sealed-secrets.yaml

---
# Database Connection Secret (if using external PostgreSQL)
apiVersion: v1
kind: Secret
metadata:
  name: postgres-credentials
  namespace: todo-app
  labels:
    app: todo-app
    component: database
type: Opaque
stringData:
  # Individual database credentials
  postgres-user: "todo_user"
  postgres-password: "change-me-secure-password"
  postgres-host: "postgres.todo-app.svc.cluster.local"
  postgres-port: "5432"
  postgres-db: "todo_db"
  # Full connection string
  postgres-url: "postgresql://todo_user:change_me@postgres:5432/todo_db?sslmode=disable"

---
# Example: Using External Secrets Operator
# This syncs secrets from AWS Secrets Manager, Azure Key Vault, etc.
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: todo-app-secrets
#   namespace: todo-app
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: todo-app-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: database-url
#       remoteRef:
#         key: todo-app/prod/database-url
#     - secretKey: jwt-secret
#       remoteRef:
#         key: todo-app/prod/jwt-secret
